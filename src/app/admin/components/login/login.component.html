<div class="desktop-view">
    <div class="main-container">
        <div class="main-content">
            <div class="body-overlay"></div>
            <div class="login-body">
                <div class="login-container">
                    <button class="back-btn" (click)="goToHomepage()">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                            fill="#ACACAC">
                            <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                        </svg>
                    </button>

                    <div class="logo-placeholder">
                        <img src="public\bg-nav-300-multicolored.webp" alt="Logo" class="logo-image" loading="lazy">
                    </div>

                    <!-- Toast notifications -->
                    <!-- <div class="toast-container">
                        <div *ngIf="successMessage" class="toast toast-success">
                            <div class="toast-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            </div>
                            <div class="toast-message">{{ successMessage }}</div>
                            <button class="toast-close" (click)="clearMessages()">×</button>
                        </div>
                        <div *ngIf="errorMessage" class="toast toast-error">
                            <div class="toast-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>
                            </div>
                            <div class="toast-message">{{ errorMessage }}</div>
                            <button class="toast-close" (click)="clearMessages()">×</button>
                        </div>
                    </div> -->

                    <!-- Login Form -->
                    <form *ngIf="currentFormState === FormState.LOGIN" [formGroup]="loginForm"
                        (ngSubmit)="onLoginSubmit()" class="form-container">
                        <h2 class="form-title">Sign In</h2>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <div class="input-container">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                        </path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </span>
                                <input type="email" id="email-desktop" formControlName="email"
                                    placeholder="Email address">
                            </div>
                            <div *ngIf="loginEmail?.invalid && loginEmail?.touched" class="error-text">
                                Please enter a valid email address
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-container password-eye">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </span>
                                <input type="password" id="password-desktop" formControlName="password"
                                    placeholder="••••••••">
                                <span class="password-toggle material-icons"
                                    (click)="togglePassword('password-desktop', 'password-icon-desktop')">visibility</span>
                            </div>
                            <div *ngIf="loginPassword?.invalid && loginPassword?.touched" class="error-text">
                                Password is required
                            </div>
                        </div>

                        <div class="form-actions">
                            <div class="form-group-remember-token">
                                <label class="checkbox-container">
                                    <input type="checkbox" id="rememberMe-desktop" formControlName="rememberMe">
                                    <span class="checkmark"></span>
                                    Remember me
                                </label>
                            </div>
                            <a class="forgot-password-link" (click)="setFormState(FormState.FORGOT_PASSWORD)">Forgot
                                Password?</a>
                        </div>

                        <div class="form-group-button">
                            <button type="submit" class="login-create-button" [disabled]="loading">
                                <span *ngIf="!loading">Sign In</span>
                                <span *ngIf="loading" class="spinner"></span>
                            </button>
                        </div>

                        <div class="create-account">
                            <p class="account-text">Don't have an account yet?
                                <a class="create-account-link" (click)="setFormState(FormState.REGISTER)">Create an
                                    Account</a>
                            </p>
                        </div>
                    </form>

                    <!-- Register Form -->
                    <form *ngIf="currentFormState === FormState.REGISTER" [formGroup]="registerForm"
                        (ngSubmit)="onRegisterSubmit()" class="form-container">
                        <h2 class="form-title">Create Account</h2>

                        <div class="form-row">
                            <div class="form-group form-group-half">
                                <label for="firstName">First Name</label>
                                <div class="input-container">
                                    <span class="input-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 24 24" fill="none" stroke="#ACACAC" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="12" cy="7" r="4"></circle>
                                        </svg>
                                    </span>
                                    <input type="text" id="firstName-desktop" formControlName="firstname"
                                        placeholder="First name">
                                </div>
                                <div *ngIf="registerFirstName?.invalid && registerFirstName?.touched"
                                    class="error-text">
                                    First name is required
                                </div>
                            </div>

                            <div class="form-group form-group-half">
                                <label for="lastName">Last Name</label>
                                <div class="input-container">
                                    <span class="input-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 24 24" fill="none" stroke="#ACACAC" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="12" cy="7" r="4"></circle>
                                        </svg>
                                    </span>
                                    <input type="text" id="lastName-desktop" formControlName="lastname"
                                        placeholder="Last name">
                                </div>
                                <div *ngIf="registerLastName?.invalid && registerLastName?.touched" class="error-text">
                                    Last name is required
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <div class="input-container">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                        </path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </span>
                                <input type="email" id="email-desktop" formControlName="email"
                                    placeholder="Email address">
                            </div>
                            <div *ngIf="registerEmail?.invalid && registerEmail?.touched" class="error-text">
                                Please enter a valid email address
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-container password-eye">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </span>
                                <input type="password" id="password-desktop" formControlName="password"
                                    placeholder="••••••••">
                                <span class="password-toggle material-icons"
                                    (click)="togglePassword('password-desktop', 'password-icon-desktop')">visibility</span>
                            </div>
                            <div *ngIf="registerPassword?.invalid && registerPassword?.touched" class="error-text">
                                Password must be at least 8 characters with uppercase, lowercase, number and special
                                character
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password_confirmation">Confirm Password</label>
                            <div class="input-container password-eye">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </span>
                                <input type="password" id="password_confirmation-desktop"
                                    formControlName="password_confirmation" placeholder="••••••••">
                                <span class="password-toggle material-icons"
                                    (click)="togglePassword('password_confirmation-desktop', 'password-confirmation-icon-desktop')">visibility</span>
                            </div>
                            <div *ngIf="registerPasswordConfirmation?.invalid && registerPasswordConfirmation?.touched"
                                class="error-text">
                                Passwords must match
                            </div>
                        </div>

                        <div class="form-group-button">
                            <button type="submit" class="login-create-button" [disabled]="loading">
                                <span *ngIf="!loading">Create Account</span>
                                <span *ngIf="loading" class="spinner"></span>
                            </button>
                        </div>

                        <div class="create-account">
                            <p class="account-text">Already have an account?
                                <a class="create-account-link" (click)="setFormState(FormState.LOGIN)">Sign In</a>
                            </p>
                        </div>
                    </form>

                    <!-- Forgot Password Form -->
                    <form *ngIf="currentFormState === FormState.FORGOT_PASSWORD" [formGroup]="forgotPasswordForm"
                        (ngSubmit)="onForgotPasswordSubmit()" class="form-container">
                        <h2 class="form-title">Reset Password</h2>
                        <p class="form-subtitle">Enter your email address and we'll send you a link to reset your
                            password.</p>

                        <div class="form-group">
                            <label for="forgotEmail">Email</label>
                            <div class="input-container">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                        </path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </span>
                                <input type="email" id="forgotEmail-desktop" formControlName="email"
                                    placeholder="Email address">
                            </div>
                            <div *ngIf="forgotEmail?.invalid && forgotEmail?.touched" class="error-text">
                                Please enter a valid email address
                            </div>
                        </div>

                        <div class="form-group-button">
                            <button type="submit" class="login-create-button" [disabled]="loading">
                                <span *ngIf="!loading">Send Reset Link</span>
                                <span *ngIf="loading" class="spinner"></span>
                            </button>
                        </div>

                        <div class="create-account">
                            <a class="back-to-login-link" (click)="setFormState(FormState.LOGIN)">Back to Login</a>
                        </div>
                    </form>

                    
                    <!-- Resend Verification Form -->
                    <form *ngIf="currentFormState === FormState.RESEND_VERIFICATION"
                        [formGroup]="resendVerificationForm" (ngSubmit)="onResendVerificationSubmit()"
                        class="form-container">
                        <h2 class="form-title">Resend Verification Email</h2>
                        <p class="form-subtitle">
                            Thanks for signing up! Before getting started, could you verify your email address by
                            clicking on the link we just emailed to you? If you didn't receive the email, we will gladly
                            send you another.
                        </p>
                    
                        <div class="form-group">
                            <label for="resendEmail">Email</label>
                            <div class="input-container">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                        </path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </span>
                                <input type="email" id="resendEmail-desktop" formControlName="email"
                                    placeholder="Email address">
                            </div>
                            <div *ngIf="resendEmail?.invalid && resendEmail?.touched" class="error-text">
                                Please enter a valid email address
                            </div>
                        </div>
                    
                        <div class="form-group-button">
                            <button type="submit" class="login-create-button" [disabled]="loading">
                                <span *ngIf="!loading">Resend Verification Link</span>
                                <span *ngIf="loading" class="spinner"></span>
                            </button>
                        </div>
                    
                        <div class="create-account">
                            <a class="back-to-login-link" (click)="setFormState(FormState.LOGIN)">Back to Login</a>
                        </div>
                    </form>
                    

                    <!-- Reset Password Form -->
                    <form *ngIf="currentFormState === FormState.RESET_PASSWORD" [formGroup]="resetPasswordForm"
                        (ngSubmit)="onResetPasswordSubmit()" class="form-container">
                        <h2 class="form-title">Create New Password</h2>

                        <div class="form-group">
                            <label for="resetToken">Reset Token</label>
                            <div class="input-container">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </span>
                                <input type="text" id="resetToken-desktop" formControlName="token"
                                    placeholder="Enter your reset token">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="resetEmail">Email</label>
                            <div class="input-container">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                        </path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </span>
                                <input type="email" id="resetEmail-desktop" formControlName="email"
                                    placeholder="Email address">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="resetPassword">New Password</label>
                            <div class="input-container password-eye">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </span>
                                <input type="password" id="resetPassword-desktop" formControlName="password"
                                    placeholder="••••••••">
                                <span class="password-toggle material-icons"
                                    (click)="togglePassword('resetPassword-desktop', 'reset-password-icon-desktop')">visibility</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="resetPasswordConfirmation">Confirm New Password</label>
                            <div class="input-container password-eye">
                                <span class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="#ACACAC" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </span>
                                <input type="password" id="resetPasswordConfirmation-desktop"
                                    formControlName="password_confirmation" placeholder="••••••••">
                                <span class="password-toggle material-icons"
                                    (click)="togglePassword('resetPasswordConfirmation-desktop', 'reset-password-confirmation-icon-desktop')">visibility</span>
                            </div>
                        </div>

                        <div class="form-group-button">
                            <button type="submit" class="login-create-button" [disabled]="loading">
                                <span *ngIf="!loading">Reset Password</span>
                                <span *ngIf="loading" class="spinner"></span>
                            </button>
                        </div>

                        <div class="create-account">
                            <a class="back-to-login-link" (click)="setFormState(FormState.LOGIN)">Back to Login</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Mobile View -->
<!-- <div class="mobile-view">
    <div class="main-container">
        <div class="main-content">
            <div class="body-overlay"></div>
            <div class="login-body">
                <div class="login-container">
                    <button class="back-btn" (click)="goToHomepage()"><svg xmlns="http://www.w3.org/2000/svg"
                            height="24px" viewBox="0 -960 960 960" width="24px" fill="#CCCCCC">
                            <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                        </svg></button>
                    <div class="logo-placeholder">
                        <img src="public\bg-nav-300-multicolored.webp" alt="Logo" class="logo-image" loading="lazy">
                    </div>

                    <form *ngIf="isLoginForm" [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
                        <div class="form-group">
                            <label for="email">EMAIL</label>
                            <input type="email" id="email-mobile" formControlName="email"
                                placeholder="juandelacruz@gmail.com" required>
                        </div>
                        <div class="form-group password-eye">
                            <label for="password">PASSWORD</label>
                            <input type="password" id="password-mobile" formControlName="password"
                                placeholder="••••••••" required>
                            <span id="password-icon-mobile" class="material-icons"
                                (click)="togglePassword('password-mobile', 'password-icon-mobile')">visibility</span>
                        </div>
                        <div class="form-group-remember-token">
                            <input type="checkbox" id="rememberMe-mobile" [formControlName]="'rememberMe'"> <label
                                for="rememberMe-mobile">Remember Me</label>
                        </div>
                        <button type="submit" class="login-create-button">Login</button>
                    </form>

                    <form *ngIf="!isLoginForm" [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
                        <div class="form-group">
                            <label for="firstName">FIRST NAME</label>
                            <input type="text" id="firstName-mobile" formControlName="firstName"
                                placeholder="Juan Miguel" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">LAST NAME</label>
                            <input type="text" id="lastName-mobile" formControlName="lastName" placeholder="Dela Cruz"
                                required>
                        </div>
                        <div class="form-group">
                            <label for="email">EMAIL</label>
                            <input type="email" id="email-mobile" formControlName="email"
                                placeholder="juandelacruz@gmail.com" required>
                        </div>
                        <div class="form-group password-eye">
                            <label for="password">PASSWORD</label>
                            <input type="password" id="password-mobile" formControlName="password"
                                placeholder="••••••••" required>
                            <span id="password-icon-mobile" class="material-icons"
                                (click)="togglePassword('password-mobile', 'password-icon-mobile')">visibility</span>
                        </div>
                        <div class="form-group password-eye">
                            <label for="password_confirmation">CONFIRM PASSWORD</label>
                            <input type="password" id="password_confirmation-mobile"
                                formControlName="password_confirmation" placeholder="••••••••" required>
                            <span id="password-confirmation-icon-mobile" class="material-icons"
                                (click)="togglePassword('password_confirmation-mobile', 'password-confirmation-icon-mobile')">visibility</span>
                        </div>
                        <button class="login-create-button" type="submit">Create Account</button>
                    </form>

                    <div class="create-account">
                        <p class="account-text" *ngIf="currentFormState === FormState.LOGIN">Don't have an account yet?
                            <a class="create-account-link" (click)="setFormState(FormState.REGISTER)">Create an
                                Account</a>
                        </p>
                        <p class="account-text" *ngIf="currentFormState === FormState.REGISTER">Already have an account?
                            <a class="create-account-link" (click)="setFormState(FormState.LOGIN)">Login</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->